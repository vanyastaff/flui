[package]
name = "flui_types"
version.workspace = true
edition.workspace = true
authors.workspace = true
license.workspace = true
description = "Core types for Flui framework - geometry, layout, styling"
repository.workspace = true

[dependencies]
tracing = { workspace = true }

# Numeric traits for generic math (Float, Num, etc.)
num-traits = "0.2"

# Error handling
thiserror = "2.0"

# Serialization support (optional)
serde = { workspace = true, optional = true }

# Stack-allocated Vec for small collections (animation curves, color stops)
smallvec = { workspace = true }

# Interoperability with other math libraries (optional)
mint = { version = "0.5", optional = true }

# Direct glam integration (optional)
glam = { version = "0.30", optional = true }

[dev-dependencies]
criterion = { workspace = true }
tokio = { workspace = true, features = ["macros", "rt-multi-thread"] }
proptest = "1.5"
trybuild = "1.0"

[features]
default = []

# === Serialization ===
# Serde support for all types (Color, Size, Rect, etc.)
serde = ["dep:serde"]

# === Performance ===
# SIMD acceleration for math operations
# Auto-detects SSE/AVX (x86_64) or NEON (ARM)
simd = []

# === Interoperability ===
# mint: Zero-cost conversions with glam, nalgebra, cgmath, kurbo
mint = ["dep:mint"]

# glam: Direct integration with glam math library
glam = ["dep:glam"]

# === Convenience ===
# Enable all features
full = ["serde", "simd", "mint"]

# NOTE: Image and font loading moved to flui_assets crate.
# flui_types only provides type definitions!

[[bench]]
name = "geometry_bench"
harness = false

[[bench]]
name = "color_bench"
harness = false

[[bench]]
name = "conversions_bench"
harness = false

[lints.clippy]
# Deny critical issues
correctness = "deny"
suspicious = "deny"
complexity = "warn"
perf = "warn"
style = "warn"

# Allow some pedantic lints
pedantic = { level = "warn", priority = -1 }
must_use_candidate = "allow"
module_name_repetitions = "allow"
similar_names = "allow"

# Specific warnings
missing_inline_in_public_items = "warn"
missing_panics_doc = "warn"
missing_errors_doc = "warn"
