[package]
name = "flui-platform"
version.workspace = true
edition.workspace = true
rust-version.workspace = true
license.workspace = true
authors.workspace = true
repository.workspace = true
description = "Platform abstraction layer for FLUI - cross-platform window and input handling"

[dependencies]
# FLUI foundation
flui_types = { path = "../flui_types" }

# UI Events - W3C compliant event types
ui-events = { workspace = true }
keyboard-types = "0.8"
dpi = "0.1"

# Windowing (for platform implementations)
winit = { workspace = true, optional = true }

# Error handling & logging
anyhow = { workspace = true }
thiserror = { workspace = true }
tracing = { workspace = true }

# Synchronization
parking_lot = { workspace = true }

# Window handle abstraction
raw-window-handle = "0.6"

# Windows platform
[target.'cfg(target_os = "windows")'.dependencies]
windows = { version = "0.59", features = [
    "Win32_Foundation",
    "Win32_UI_Input_KeyboardAndMouse",
    "Win32_UI_WindowsAndMessaging",
    "Win32_Graphics_Gdi",
    "Win32_System_LibraryLoader",
    "Win32_UI_HiDpi",
    "Win32_System_Com",
] }

[features]
default = ["desktop"]

# Platform features
desktop = ["winit"]

# Re-export dependencies that might be needed by consumers
[package.metadata.docs.rs]
all-features = true
