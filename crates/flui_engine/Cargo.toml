[package]
name = "flui_engine"
version.workspace = true
edition.workspace = true
rust-version.workspace = true
authors.workspace = true
license.workspace = true
repository.workspace = true
description = "GPU-accelerated rendering engine for FLUI using wgpu"
keywords = ["rendering", "gpu", "wgpu", "ui", "graphics"]
categories = ["rendering::engine", "graphics", "gui"]

[features]
default = ["wgpu-backend", "images"]

# === Rendering Backends ===
wgpu-backend = ["dep:wgpu", "dep:glyphon"]
# Future: skia-backend, vello-backend, software-backend

# === wgpu GPU API Selection ===
# Use these to control which GPU APIs wgpu compiles support for
vulkan = ["wgpu-backend", "wgpu/vulkan", "wgpu/wgsl"]
metal = ["wgpu-backend", "wgpu/metal", "wgpu/wgsl"]
dx12 = ["wgpu-backend", "wgpu/dx12", "wgpu/wgsl"]
webgpu = ["wgpu-backend", "wgpu/webgpu", "wgpu/wgsl"]
gles = ["wgpu-backend", "wgpu/gles", "wgpu/wgsl"]

# === Optional Features ===
images = ["dep:image"]
serialization = ["lyon/serialization"]
devtools = ["dep:flui_devtools"]
lyon-debugger = ["lyon/debugger"]

[dependencies]
flui_types = { path = "../flui_types" }
flui_painting = { path = "../flui_painting" }
flui-foundation = { path = "../flui-foundation" }
flui-layer = { path = "../flui-layer" }
flui_devtools = { path = "../flui_devtools", optional = true }

# === GPU Rendering (wgpu backend) ===
wgpu = { workspace = true, default-features = false, optional = true }
glyphon = { version = "0.9.0", optional = true }
bytemuck = { version = "1.24", features = ["derive"] }

# Font parsing (for vector text)
ttf-parser = { workspace = true }

# Vector graphics tessellation
lyon = "1.0.16"

# Math for GPU rendering
glam = { version = "0.30.9", features = ["serde", "bytemuck"] }

# === Utilities ===
pollster = { workspace = true }
parking_lot = { workspace = true }
thiserror = { workspace = true }
tracing = { workspace = true }
slab = "0.4"

# Image loading (optional)
image = { workspace = true, optional = true }



[dev-dependencies]
pollster = { workspace = true }
env_logger = "0.11.8"
tokio = { workspace = true }

[lints]
workspace = true
